# POTAL AI Behavioral Guidelines & Absolute Rules (.cursorrules)
# ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸: 2026-02-23

## 1. Business Philosophy (The "Why")
- **Target Audience:** US Residents (ë¯¸êµ­ í˜„ì§€ì¸). ì ˆëŒ€ í•œêµ­ì¸ì˜ ì§êµ¬ ê´€ì ìœ¼ë¡œ ë°°ì†¡/ì„œë¹„ìŠ¤ë¥¼ í•´ì„í•˜ì§€ ë§ˆë¼.
- **Transparency:** APIê°€ ì£¼ëŠ” ì •ë³´(ë„ì°©ì¼, ë°°ì†¡ë¹„)ëŠ” 100% íˆ¬ëª…í•˜ê²Œ ê³µê°œí•œë‹¤.
- **First Impression:** ì‚¬ìš©ìì—ê²Œ ë‘ ë²ˆì§¸ ê¸°íšŒëŠ” ì—†ë‹¤. ì²« 16ê°œ ìƒí’ˆ ë¦¬ìŠ¤íŠ¸ì™€ UIì—ì„œ ì••ë„ì ì¸ í¸ì˜ì„±ì„ ì œê³µí•´ì•¼ í•œë‹¤.
- **Clean UI:** ë°˜ë³µë˜ëŠ” íˆ´íŒ(Tooltip)ì€ ì‹œê°ì  ê³µí•´ë‹¤. ê°œë³„ íˆ´íŒì„ ì œê±°í•˜ê³  ìƒë‹¨ 'Unified Shipping Guide'ë¥¼ ì‚¬ìš©í•œë‹¤.
- **Google Shopping ìˆ˜ì¤€ì˜ í’ˆì§ˆ:** vibe codingì´ ì•„ë‹Œ í”„ë¡œë•ì…˜ ë ˆë²¨. ëª¨ë“  ì½”ë“œëŠ” ë¹Œë“œ í†µê³¼ + ì‹¤ì œ ì‹œë‚˜ë¦¬ì˜¤ ê²€ì¦ í•„ìˆ˜.

## 2. Anti-Amnesia (Do Not Forget / Zombie Ideas)
- **Mall Classification:** eBayì™€ iHerbëŠ” ë¯¸êµ­ì¸ì—ê²Œ **Domestic(ë‚´ìˆ˜)** ì‡¼í•‘ëª°ì´ë‹¤. ì ˆëŒ€ Global íƒ­ì— ë„£ì§€ ë§ˆë¼.
- **Show More Button:** 'Show More' ë²„íŠ¼ì€ í•„ìˆ˜ë‹¤. ì‚­ì œ ì œì•ˆ ê¸ˆì§€ (ë¬´í•œ ìŠ¤í¬ë¡¤ IntersectionObserver êµ¬í˜„ë¨).
- **Mobile Layout:** ëª¨ë°”ì¼ ê²€ìƒ‰ ê²°ê³¼ëŠ” **2ì—´(grid-cols-2)** ê·¸ë¦¬ë“œ. ìœ„ì‹œë¦¬ìŠ¤íŠ¸ë„ ë™ì¼í•œ 2ì—´ ê·¸ë¦¬ë“œ.
- **Price Tag:** ë°°ì†¡ë¹„ê°€ 'Free'ì¸ ê²½ìš°, ê°€ê²© ì˜†ì— `+ Shipping` í…ìŠ¤íŠ¸ë¥¼ ì ˆëŒ€ ì¤‘ë³µ í‘œê¸°í•˜ì§€ ë§ˆë¼.
- **Data Driven:** í•„í„° ìƒì„± ì‹œ LLM ì¶”ë¡ ì„ ì‚¬ìš©í•˜ì§€ ë§ˆë¼. API ì‘ë‹µ ë°ì´í„° ê¸°ë°˜ìœ¼ë¡œ ìƒì„±í•œë‹¤.
- **Image Container:** ìƒí’ˆ ì¹´ë“œ ì´ë¯¸ì§€ëŠ” ë°˜ë“œì‹œ `paddingBottom: '125%' + height: 0` ì¸ë¼ì¸ ìŠ¤íƒ€ì¼ ë°©ì‹ìœ¼ë¡œ ê³ ì •. `aspectRatio` CSS ì‚¬ìš© ê¸ˆì§€. img íƒœê·¸ëŠ” `position: absolute; top: 0; left: 0; width: 100%; height: 100%; objectFit: contain; padding: 6px`.
- **ëª¨ë°”ì¼ ì¹´ë“œ í…ìŠ¤íŠ¸/ì•„ì´ì½˜ í‘œì¤€ í¬ê¸° (2026-02-22 ì ìš©):** ì…€ëŸ¬ë±ƒì§€ 9px, ë³„ì /ë¦¬ë·° 10px/9px, ê³µìœ /í•˜íŠ¸ ì•„ì´ì½˜ w-4 h-4 (16px) + í„°ì¹˜ì˜ì—­ 36x36px, ìƒí’ˆëª… 12px (3ì¤„ clamp, minHeight 4.2em), ë©¤ë²„ì‹­ë±ƒì§€ 9px, ë°°ì†¡/ë‚ ì§œ 9px, Est.Tax/Product 10px, Totalë¼ë²¨ 9px, Totalê°€ê²© 18px. ê²€ìƒ‰ì¹´ë“œì™€ ìœ„ì‹œë¦¬ìŠ¤íŠ¸ ì¹´ë“œ ë™ì¼.
- **POTAL Filter ë¸Œëœë”©:** "AI Smart Suggestion" ì´ë¦„ì€ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ. ì‚¬ìš©ìì—ê²Œ ë³´ì´ëŠ” ëª¨ë“  ê³³ì—ì„œ **"POTAL Filter"** ì‚¬ìš©. ë‚´ë¶€ ì½”ë“œ ì‹ë³„ì(AiSmartSuggestionBox ë“±)ëŠ” ìœ ì§€.
- **Inline Styles ìš°ì„ :** Tailwind CSS v4 ìºì‹± ì´ìŠˆë¡œ ì‹œê°ì  í•µì‹¬ ìš”ì†ŒëŠ” ë°˜ë“œì‹œ `style={{}}` ì¸ë¼ì¸ ìŠ¤íƒ€ì¼ ì‚¬ìš©. íŠ¹íˆ ë°°ê²½ìƒ‰, ì´ë¯¸ì§€ ì»¨í…Œì´ë„ˆ, ë±ƒì§€ ìƒ‰ìƒ ë“±.
- **No browser confirm():** ëª¨ë°”ì¼ì—ì„œ `confirm()`, `alert()`, `prompt()` ì‚¬ìš© ê¸ˆì§€. ë°”í…€ì‹œíŠ¸ ë˜ëŠ” ì»¤ìŠ¤í…€ ëª¨ë‹¬ UI ì‚¬ìš© (ìœ„ì‹œë¦¬ìŠ¤íŠ¸ Clearì—ì„œ ì´ë¯¸ êµ¬í˜„ë¨).
- **Dark Theme í†µì¼ (ëª¨ë°”ì¼):** ëª¨ë°”ì¼ ë°°ê²½ `#02122c` (ë„¤ì´ë¹„). **ë°ìŠ¤í¬í†± ë°°ê²½:** `#f1f2f8` (ë¼ì´íŠ¸). ìƒˆ í˜ì´ì§€/ì»´í¬ë„ŒíŠ¸ ë§Œë“¤ ë•Œ ë°˜ì‘í˜• ë°°ê²½ ì²˜ë¦¬ í•„ìˆ˜.
- **ì¹´ë“œ ìŠ¤íƒ€ì¼ í†µì¼:** ê²€ìƒ‰ê²°ê³¼ MobileCompactCardì™€ ìœ„ì‹œë¦¬ìŠ¤íŠ¸ WishlistMobileCardëŠ” ë°˜ë“œì‹œ ë™ì¼í•œ êµ¬ì¡°/ìŠ¤íƒ€ì¼ ìœ ì§€. í•˜ë‚˜ ìˆ˜ì •í•˜ë©´ ë‹¤ë¥¸ ê²ƒë„ ë™ì¼í•˜ê²Œ ìˆ˜ì •.
- **Product í•„ë“œ í˜¸í™˜:** product ê°ì²´ì˜ í•„ë“œëª…ì´ ì»´í¬ë„ŒíŠ¸ë§ˆë‹¤ ë‹¤ë¥¼ ìˆ˜ ìˆìŒ (title/name, thumb/image, seller/site). í•­ìƒ `product.title || product.name || 'Untitled'` ì‹ìœ¼ë¡œ í´ë°± ì²˜ë¦¬.
- **wishProduct ê°ì²´:** ìœ„ì‹œë¦¬ìŠ¤íŠ¸ì— ì €ì¥í•  ë•Œ `is_prime`, `badges`, `arrives`, `shipping`, `appliedMembership`, `membershipBadge`, `type` í•„ë“œë¥¼ ë°˜ë“œì‹œ í¬í•¨í•´ì•¼ ë±ƒì§€ê°€ ìœ„ì‹œë¦¬ìŠ¤íŠ¸ì—ì„œë„ í‘œì‹œë¨.
- **FraudFilter no_image ê·œì¹™:** ë¹ˆ ë¬¸ìì—´ ì´ë¯¸ì§€ëŠ” ì œê±°í•˜ì§€ ë§ˆë¼. APIê°€ í•©ë²•ì ìœ¼ë¡œ ì´ë¯¸ì§€ë¥¼ ì•ˆ ì¤„ ìˆ˜ ìˆìŒ. ëª…ì‹œì  placeholder URLë§Œ ì œê±° (`placehold.co`, `placeholder.com` ë“±).
- **Phase 2 ë§ˆì¼€íŒ… ìœ ì§€:** BestBuy, Temu, Sheinì€ ë¹„í™œì„± í”„ë¡œë°”ì´ë”ì§€ë§Œ ë§ˆì¼€íŒ… ì¹´í”¼ì—ì„œ ì œê±°í•˜ì§€ ë§ˆë¼. Phase 2ì—ì„œ ì¦‰ì‹œ í™œì„±í™” ì˜ˆì •.

## 3. Coding Standards
- **Grid System:** PC(Large Screen)ì—ì„œëŠ” **3ì—´(grid-cols-3)**ì„ ìµœëŒ€ë¡œ ìœ ì§€í•˜ì—¬ ìƒí’ˆ ì´ë¯¸ì§€ ì‹œì¸ì„±ì„ í™•ë³´í•œë‹¤.
- **Ranking Logic:** Domestic/Global íƒ­ ë‚´ë¶€ì—ì„œëŠ” ì‚¬ì´íŠ¸ë³„ 1ë“± ìƒí’ˆì„ **êµì°¨(Zipper)** ë°°ì¹˜í•˜ì—¬ ê³µì •ì„±ì„ ë³´ì¥í•œë‹¤. `interleaveBySite()` í•¨ìˆ˜ê°€ search/page.tsxì— ìˆìŒ.
- **z-index ê³„ì¸µ (ì ˆëŒ€ ë³€ê²½í•˜ì§€ ë§ˆë¼):**
  - StickyHeader: z-[2000]
  - BottomNav (ê¸€ë¼ìŠ¤ëª¨í”¼ì¦˜ pill): z-[9999]
  - í’€ìŠ¤í¬ë¦° ì‹œíŠ¸ (AiSmartSuggestionBox ë“±): z-[10001]
  - ë°”í…€ì‹œíŠ¸ í™•ì¸ ëª¨ë‹¬ (Clear ë“±): z-[10002]
- **ëª¨ë°”ì¼/PC ë¶„ë¦¬:** `md:hidden` / `hidden md:block` íŒ¨í„´ ì‚¬ìš©. PC ë ˆì´ì•„ì›ƒì— ì˜í–¥ ì£¼ì§€ ì•Šë„ë¡ ì£¼ì˜.
- **Next.js 16:** `params`ê°€ Promiseë¡œ ë°”ë€œ. ë™ì  ë¼ìš°íŠ¸ì—ì„œ `use(params)` ë˜ëŠ” `await params` ì‚¬ìš© í•„ìˆ˜. ê¸°ì¡´ `params.slug` ì§ì ‘ ì ‘ê·¼ì€ undefined ë°œìƒ.
- **ì´ë²¤íŠ¸ í•¸ë“¤ë§:** ì¹´ë“œ ë‚´ë¶€ ë²„íŠ¼ (ê³µìœ , í•˜íŠ¸ ë“±)ì€ ë°˜ë“œì‹œ `e.preventDefault()` + `e.stopPropagation()` ì²˜ë¦¬. ì•ˆí•˜ë©´ ì¹´ë“œ í´ë¦­ (ìƒí’ˆ ë§í¬ ì—´ê¸°)ì´ ê°™ì´ ë°œìƒí•¨.
- **ìƒ‰ìƒ ë§¤í•‘:** ë¦¬í…Œì¼ëŸ¬ë³„ í”Œë«í¼ ìƒ‰ìƒì€ `MOBILE_PLATFORM_COLORS` / `PLATFORM_COLORS` ë”•ì…”ë„ˆë¦¬ì— ì •ì˜ë¨. Amazon=#FF9900, Walmart=#0071ce, Target=#CC0000, eBay=#E53238, AliExpress=#E43225 ë“±.
- **twToHex() í—¬í¼:** Tailwind í´ë˜ìŠ¤ ë¬¸ìì—´ì—ì„œ hex ìƒ‰ìƒì„ ì¶”ì¶œí•˜ëŠ” í•¨ìˆ˜. `bg-[#FF9900]` â†’ `#FF9900`. ResultsGrid.tsxì™€ wishlist/page.tsx ì–‘ìª½ì— ë™ì¼í•˜ê²Œ ì¡´ì¬.
- **console.log ê¸ˆì§€:** í”„ë¡œë•ì…˜ ì½”ë“œì— console.logë¥¼ ë‚¨ê¸°ì§€ ë§ˆë¼. ë””ë²„ê¹… í›„ ë°˜ë“œì‹œ ì œê±°.

## 4. ê²€ìƒ‰ ê²°ê³¼ ì¹´ë“œ êµ¬ì¡° (MobileCompactCard)
ì¹´ë“œ ì „ì²´ êµ¬ì¡° (ìœ„â†’ì•„ë˜):
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ì…€ëŸ¬ ë±ƒì§€]    [â˜… ë¦¬ë·°] â”‚  â† ìƒë‹¨ ë°”
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    [â†—][â™¡]â”‚  â† ì´ë¯¸ì§€ ìš°ì¸¡ìƒë‹¨ ê³µìœ +í•˜íŠ¸
â”‚      [ìƒí’ˆ ì´ë¯¸ì§€]       â”‚  â† paddingBottom: 125%, height: 0
â”‚                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ìƒí’ˆëª… (2ì¤„ clamp)      â”‚  â† íƒ€ì´í‹€
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€ â”€â”€ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â† êµ¬ë¶„ì„  (separator)
â”‚ ë±ƒì§€+ë°°ì†¡+ğŸš€ë°°ì†¡ì¼      â”‚  â† ê°€ê²© 1ì¤„
â”‚ Est.Tax $X.XX           â”‚  â† ê°€ê²© 2ì¤„
â”‚ $XX.XX (ìƒí’ˆê°€)  Total  â”‚  â† ê°€ê²© 3ì¤„
â”‚                 $XX.XX  â”‚  â† Total ê°€ê²© (í° ê¸€ì”¨)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- **ì´ë¯¸ì§€ ì˜ì—­:** `paddingBottom: '125%'` + `height: 0` + `position: absolute` img
- **ì´ë¯¸ì§€ ìš°ì¸¡ìƒë‹¨:** ê³µìœ  ì•„ì´ì½˜(Skyscanner 3-node ë„¤íŠ¸ì›Œí¬) + í•˜íŠ¸ ì•„ì´ì½˜ (ë°˜íˆ¬ëª… ì›í˜• ë°°ê²½ `rgba(0,0,0,0.35)`)
- **ê°€ê²© ì˜ì—­ 3ì¤„ êµ¬ì¡°:**
  - 1ì¤„: ë©¤ë²„ì‹­ ë±ƒì§€(ìˆìœ¼ë©´) + ë°°ì†¡ë¹„(Free/+$X) + ğŸš€ + ë°°ì†¡ì¼(1-2 Days / 7-15 Days)
  - 2ì¤„: Est.Tax / Est.Duty (isGlobal ì—¬ë¶€ì— ë”°ë¼)
  - 3ì¤„: ì¢Œì¸¡=ìƒí’ˆê°€ê²©, ìš°ì¸¡=Total ë¼ë²¨+í° ê°€ê²©
- **ë±ƒì§€ 4ë‹¨ê³„ ìš°ì„ ìˆœìœ„:**
  1. `membershipBadge` (ScoringEngine ì œê³µ) â€” twToHexë¡œ ìƒ‰ìƒ ë³€í™˜
  2. `shippingProg` (retailerConfigì˜ matchShippingProgram ë§¤ì¹­)
  3. `is_prime` â†’ 'Prime' ë±ƒì§€ (#232F3E bg, #00A8E1 text)
  4. `appliedMembership` â†’ ì´ë¦„ì„ Title Caseë¡œ ë³€í™˜
- **ìœ„ì‹œë¦¬ìŠ¤íŠ¸ ì¹´ë“œ(WishlistMobileCard)ë„ ë™ì¼ êµ¬ì¡°** ìœ ì§€. ë‹¨, í•˜íŠ¸ ëŒ€ì‹  ë¹¨ê°„ ì‚­ì œ ë²„íŠ¼.

## 5. ì£¼ìš” íŒŒì¼ ë§¤í•‘ (âš ï¸ ë§¤ìš° ì¤‘ìš”)

### AI íŒŒì´í”„ë¼ì¸ â€” í•µì‹¬ (2026-02-23 ê¸°ì¤€)
| íŒŒì¼ | ì—­í•  |
|------|------|
| `app/lib/agent/Coordinator.ts` | **ì‹¤ì œ ê²€ìƒ‰ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„°**. Intent Router â†’ QueryAgent â†’ Provider í˜¸ì¶œ â†’ FraudFilter â†’ ProductJudge â†’ ScoringEngine. providerStatus ì¶”ì . SearchLogger ì—°ë™. |
| `app/lib/agent/QueryAgent.ts` | ê²€ìƒ‰ì–´ ë¶„ì„ (deterministic). isQuestionQuery v3 + analyzeQueryDeterministic + ê°€ê²© ì˜¤íƒ€ í—ˆìš© (dollors/bucksâ†’$) + í”Œë«í¼ë³„ ì¿¼ë¦¬ ìƒì„± (AliExpress ìš©ì–´ ë³€í™˜ í¬í•¨) |
| `app/lib/agent/AnalysisAgent.ts` | AI ê¸°ë°˜ ì¿¼ë¦¬ ë¶„ì„ (GPT-4o-mini). shouldUseAIAnalysis()ê°€ trueì¼ ë•Œë§Œ í˜¸ì¶œ |
| `app/lib/ai/prompts/intent-router.ts` | Intent Router â€” PRODUCT_SPECIFIC/CATEGORY/COMPARISON/QUESTION/PRICE_HUNT 5ê°€ì§€ ë¶„ë¥˜. fallbackì— ì˜¤íƒ€ í—ˆìš© ê°€ê²© íŒŒì‹± í¬í•¨ |
| `app/lib/ai/prompts/product-judge.ts` | Product Judge â€” AIê°€ ìƒí’ˆ í’ˆì§ˆ/ê´€ë ¨ì„± íŒë‹¨ |
| `app/lib/ai/prompts/smart-filter.ts` | Smart Filter â€” AI í•„í„° ì¶• ìƒì„± |
| `app/lib/ai/prompts/query-enhancer.ts` | Query Enhancer â€” ê²€ìƒ‰ì–´ ë³´ê°• |
| `app/lib/ai/engine.ts` | AI ì‹¤í–‰ ì—”ì§„ â€” OpenAI API í˜¸ì¶œ, timeout, fallback ì²˜ë¦¬ |
| `app/lib/search/FraudFilter.ts` | ê·œì¹™ ê¸°ë°˜ ì‚¬ê¸° í•„í„°. no_imageëŠ” ë¹ˆ ë¬¸ìì—´ ì œê±° ì•ˆ í•¨ (placeholder URLë§Œ ì œê±°) |
| `app/lib/search/ScoringEngine.ts` | Best/Cheapest/Fastest ì ìˆ˜ |
| `app/lib/search/CostEngine.ts` | Total Landed Cost ê³„ì‚° |
| `app/lib/learning/SearchLogger.ts` | Phase 1 í•™ìŠµ: fire-and-forget ê²€ìƒ‰ ë¡œê·¸ â†’ Supabase (search_logs, search_signals) |
| `app/api/signals/route.ts` | í´ë¼ì´ì–¸íŠ¸ ì‹œê·¸ë„ ìˆ˜ì§‘ API |

### í”„ë¡ íŠ¸ì—”ë“œ â€” ì‹¤ì œ ì‚¬ìš© íŒŒì¼
| íŒŒì¼ | ì—­í•  | ë¹„ê³  |
|------|------|------|
| `components/search/ResultsGrid.tsx` | ê²€ìƒ‰ ê²°ê³¼ ê·¸ë¦¬ë“œ + MobileCompactCard | âš ï¸ ì‹¤ì œ ì‚¬ìš© íŒŒì¼. ~1200ì¤„. ë¡œë”© UI ë°˜ì‘í˜• (ë°ìŠ¤í¬í†± ì§„í•œìƒ‰/ëª¨ë°”ì¼ í°ìƒ‰) |
| `components/search/FilterSidebar.tsx` | í•„í„° ì‚¬ì´ë“œë°” | FilterCheckbox: min-w-0 + truncateë¡œ ê¸´ í…ìŠ¤íŠ¸ ì²˜ë¦¬ |
| `app/components/ProductCard.tsx` | PC ìƒí’ˆ ì¹´ë“œ | ë°ìŠ¤í¬í†±/ëª¨ë°”ì¼ ì–‘ìª½ ì¹´ë“œ í¬í•¨ |
| `app/wishlist/page.tsx` | ìœ„ì‹œë¦¬ìŠ¤íŠ¸ í˜ì´ì§€ | WishlistMobileCard + PC ProductCard + Clear ë°”í…€ì‹œíŠ¸ |
| `app/search/page.tsx` | ê²€ìƒ‰ ê²°ê³¼ í˜ì´ì§€ | ìƒíƒœ ê´€ë¦¬ (query, sort, market, providerStatus ë“±). SearchLogger ì—°ë™ |
| `app/page.tsx` | ë©”ì¸ í™ˆí˜ì´ì§€ | ëª¨ë°”ì¼/PC ë¶„ë¦¬ ë ˆì´ì•„ì›ƒ |
| `app/profile/page.tsx` | í”„ë¡œí•„ í˜ì´ì§€ | 2x2 ê·¸ë¦¬ë“œ + ìŠ¬ë¼ì´ë“œ ì„œë¸Œí˜ì´ì§€ + Zipcode |
| `app/error.tsx` | Error Boundary | ì•± ì „ì²´ í¬ë˜ì‹œ ë°©ì–´ (ì¸ë¼ì¸ ìŠ¤íƒ€ì¼) |
| `components/search/StickyHeader.tsx` | ê²€ìƒ‰ ìŠ¤í‹°í‚¤ í—¤ë” | market íƒ­, ê²€ìƒ‰ë°”, ì •ë ¬ |
| `components/layout/MobileBottomNav.tsx` | ëª¨ë°”ì¼ ë°”í…€ ë„¤ë¹„ | ê¸€ë¼ìŠ¤ëª¨í”¼ì¦˜ pill bar (3íƒ­) |
| `components/icons.tsx` | ì•„ì´ì½˜ ì»´í¬ë„ŒíŠ¸ | Share, Heart, HeartFilled, Shield, ChevronLeft, Plus ë“± |
| `app/context/WishlistContext.tsx` | ìœ„ì‹œë¦¬ìŠ¤íŠ¸ Context | localStorage 'potal_wishlist' í‚¤ ì‚¬ìš© |

### í”„ë¡ íŠ¸ì—”ë“œ â€” ì•ˆ ì“°ëŠ” íŒŒì¼ (ìˆ˜ì •í•˜ì§€ ë§ˆë¼!)
| íŒŒì¼ | ë¹„ê³  |
|------|------|
| `app/components/search/ResultsGrid.tsx` | âŒ ë°±ì—… íŒŒì¼. ì‹¤ì œ ì‚¬ìš© ì•ˆ í•¨ |
| `app/components/search/StickyHeader.tsx` | âŒ ë°±ì—… íŒŒì¼ |
| `app/components/search/AiSmartSuggestionBox.tsx` | âŒ ë°±ì—… íŒŒì¼ |

### ë°±ì—”ë“œ â€” í”„ë¡œë°”ì´ë” (5ê°œ í™œì„± / 3ê°œ ë¹„í™œì„±)
| íŒŒì¼ | ìƒíƒœ | ë¹„ê³  |
|------|------|------|
| `AmazonProvider.ts` | âœ… í™œì„± | RapidAPI Real-Time Amazon Data |
| `WalmartProvider.ts` | âœ… í™œì„± | RapidAPI |
| `EbayProvider.ts` | âœ… í™œì„± | RapidAPI |
| `TargetProvider.ts` | âœ… í™œì„± | RapidAPI |
| `AliExpressProvider.ts` | âœ… í™œì„± | RapidAPI |
| `BestBuyProvider.ts` | â¸ ë¹„í™œì„± | Phase 2ì—ì„œ í™œì„±í™” ì˜ˆì • |
| `TemuProvider.ts` | â¸ ë¹„í™œì„± | Phase 2ì—ì„œ í™œì„±í™” ì˜ˆì • |
| `SheinProvider.ts` | â¸ ë¹„í™œì„± | Phase 2ì—ì„œ í™œì„±í™” ì˜ˆì • |
| `CostcoProvider.ts` | â¸ ë¹„í™œì„± | ë¯¸ë˜ ê³ ë ¤ |
| `GlobalMockProvider.ts` | â¸ ë¹„í™œì„± | ê°œë°œ/í…ŒìŠ¤íŠ¸ìš© |

### ê¸°íƒ€ ë°±ì—”ë“œ
| íŒŒì¼ | ì—­í•  |
|------|------|
| `app/lib/agent/types.ts` | QueryAnalysis, Coordinator íƒ€ì… |
| `app/lib/search/types.ts` | Product, SearchResult ë“± íƒ€ì… ì •ì˜ |
| `app/lib/retailerConfig.ts` | ë¦¬í…Œì¼ëŸ¬ ì„¤ì • + ì–´í•„ë¦¬ì—ì´íŠ¸ + ë©¤ë²„ì‹­ ë±ƒì§€ ë§¤ì¹­ |
| `app/lib/rapidapi.ts` | RapidAPI í—¬í¼ |
| `app/api/search/route.ts` | ê²€ìƒ‰ API ì—”ë“œí¬ì¸íŠ¸ |
| `app/api/search/analyze/route.ts` | AI ë¶„ì„ API (í”„ë¡¬í”„íŠ¸ ì¸ì ì…˜ ë°©ì–´ í¬í•¨) |
| `app/auth/callback/route.ts` | Auth ì½œë°± (Open Redirect ë°©ì–´ ê°•í™”) |

## 6. Supabase í…Œì´ë¸” (2026-02-23 ê¸°ì¤€)
- `search_logs` â€” ê²€ìƒ‰ ë¡œê·¸ (18 ì»¬ëŸ¼, RLS + insert ì •ì±…)
- `search_signals` â€” ì‚¬ìš©ì ì‹œê·¸ë„: click, add_to_cart, filter_use ë“± (7 ì»¬ëŸ¼, RLS + insert ì •ì±…)
- `contact_messages` â€” Contact form ë©”ì‹œì§€
- ì¸ë±ìŠ¤: query, created_at, session_id, search_id ê¸°ë°˜ 4ê°œ

## 7. ìœ ì €(Euntae) ë””ìì¸ ì„±í–¥ & í”¼ë“œë°± íŒ¨í„´
- **ìŠ¤ì¹´ì´ìŠ¤ìºë„ˆ(Skyscanner) ëª¨ë°”ì¼ UX**ë¥¼ ì£¼ìš” ë ˆí¼ëŸ°ìŠ¤ë¡œ ì‚¬ìš©
- ìˆ˜ì • ì „ì´ ë‚˜ì„ ë•Œ ë°”ë¡œ "ìˆ˜ì •ì „ì´ ë” ê´œì°®ë„¤" â†’ ì¦‰ì‹œ ë¦¬ë²„íŠ¸
- ì´ëª¨ì§€ ì•„ì´ì½˜ ë°°ê²½ ë°•ìŠ¤ ì‹«ì–´í•¨ â†’ ì´ëª¨ì§€ë§Œ ì‚¬ìš©
- ì˜¤ë Œì§€ í¬ì¸íŠ¸ ì¢‹ì•„í•˜ì§€ë§Œ íë¦¬ë©´ ì•ˆë¨ â†’ ì§„í•˜ê²Œ (`opacity/60` ì œê±°, `font-bold`)
- ì½œë¼ë³´ë ˆì´ì…˜ ë°©ì‹: ìœ ì €ê°€ ë°©í–¥ ì œì‹œ â†’ êµ¬í˜„ â†’ ìœ ì € í”¼ë“œë°± â†’ ì¡°ì •
- í•œêµ­ì–´ë¡œ ì†Œí†µí•˜ë˜ ì½”ë“œ/ê¸°ìˆ  ìš©ì–´ëŠ” ì˜ì–´ ê·¸ëŒ€ë¡œ ì‚¬ìš©
- ì½”ë”© ì´ˆë³´ìì´ë¯€ë¡œ ê¸°ìˆ ì  ì„¤ëª…ì€ ê°„ê²°í•˜ê²Œ, ì‘ì—…ì€ ì§ì ‘ í•´ì¤˜ì•¼ í•¨

## 8. ë³´ì•ˆ (2026-02-23 ê²€ìˆ˜ ì™„ë£Œ)
- **Auth Callback:** Open Redirect ë°©ì–´ â€” URL ì¸ì½”ë”© ìš°íšŒ + ë°±ìŠ¬ë˜ì‹œ ë°©ì–´ í¬í•¨
- **AI API:** í”„ë¡¬í”„íŠ¸ ì¸ì ì…˜ ë°©ì–´ â€” ë”°ì˜´í‘œ ë³€í˜• ì œê±°, injection í‚¤ì›Œë“œ ì œê±°
- **Supabase RLS:** search_logs, search_signals ëª¨ë‘ RLS í™œì„±í™” + anon insert ì •ì±…
- **.gitignore:** .env, .env.local ì œì™¸ í™•ì¸ ì™„ë£Œ

## 9. ë°°í¬
- **Vercel Pro** â†’ `potal.app` ë„ë©”ì¸
- `main` ë¸Œëœì¹˜ì— pushí•˜ë©´ ìë™ ë°°í¬
- .env.local ìˆ˜ì • ê¸ˆì§€ (Vercel envì™€ ë™ê¸°í™”ë¨)
- **PWA ì„¤ì • ì™„ë£Œ:** manifest.json + service worker ë“±ë¡ë¨
- **GA4 ì´ë²¤íŠ¸:** 12ê°œ ì´ë²¤íŠ¸ íŠ¸ë˜í‚¹ êµ¬í˜„ë¨
